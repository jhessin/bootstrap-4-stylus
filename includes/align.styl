// This makes alignment always useful by changing the display type of both this element and it's parent

alignY($arg)
  if $arg is 'top'
    align-items: flex-start
  else if $arg is 'bottom'
    align-items: flex-end
  else
    align-items: unquote($arg)

justY($arg)
  if $arg is 'top'
    justify-content: flex-start
  else if $arg is 'bottom'
    justify-content: flex-end
  else
    justify-content: unquote($arg)

alignX($arg)
  if $arg is 'left'
    align-items: flex-start
  if $arg is 'right'
    align-items: flex-end
  else
    align-items: unquote($arg)

justX($arg)
  if $arg is 'left'
    justify-content: flex-start
  else if $arg is 'right'
    justify-content: flex-end
  else
    justify-content: unquote($arg)

alignSelfX($arg)
  if $arg is 'left'
    align-self: flex-start
  else if $arg is 'right'
    align-self: flex-end
  else
    align-self: unquote($arg)

alignSelfY($arg)
  if $arg is 'top'
    align-self: flex-start
  else if $arg is 'bottom'
    align-self: flex-end
  else
    align-self: unquote($arg)

align($args = center)
  // first determine if we are in self or container mode
  if length($args) is 1
    // self mode
    if $args[0] in ('left' 'right')
      ../
        flex-direction: column
      alignSelfX($args[0])
    else
      if $args[0] in ('top' 'bottom')
        ../
          flex-direction: row
      alignSelfY($args[0])
  else if length($args) is 2
    // container mode
    display: flex
    flex-wrap: wrap
    if $args[0] in ('right' 'left')
      flex-direction: column
      alignX($args[0])
      if $args[1]
        justY($args[1])
    else if $args[0] in ('top' 'bottom')
      flex-direction: row
      alignY($args[0])
      if $args[1]
        justY($args[1])
    else if $args[0] is 'center'
      if $args[1] in ('top' 'bottom')
        flex-direction: column
        alignX($args[0])
        justY($args[1])
      else if $args[1] in ('left' 'right')
        flex-direction: row
        alignY($args[0])
        justX($args[1])
      else if $args[1] is 'column'
        flex-direction: column
        alignX(center)
        justY(center)
      else
        // assume center row
        flex-direction: row
        alignY(center)
        justX(center)

align-sm()
  @media (max-width: $grid-sm)
    align(arguments)

align-md()
  @media (min-width: $grid-sm) and (max-width: $grid-md)
    align(arguments)

align-lg()
  @media (min-width: $grid-md) and (max-width: $grid-lg)
    align(arguments)

align-xl()
  @media (min-width: $grid-lg) and (max-width: $grid-xl)
    align(arguments)

align-xlplus()
  @media (min-width: $grid-xl)
    align(arguments)
