btnGroup()
  // PARSE ARGUMENTS
  $flags = ()
  // get the name of this class
  $this = split(' ', unquote(selector()))[-1]

  // set default classes
  $btnClass := 'btn'
  $toolbarClass := 'toolbar'
  $focusClass := 'focus'
  $disabledClass := 'disabled'
  $activeClass := 'active'
  $showClass := 'show'
  $toggleClass := 'toggle'
  $dropdownToggleClass := 'dropdown-toggle'

  if arguments is a 'object'
    $classes = arguments
    // get classnames
    $btnClass := arguments.btnClass or $btnClass
    $toolbarClass := arguments.toolbarClass or $toolbarClass
    $focusClass = arguments.focusClass or $focusClass
    $disabledClass = arguments.disabledClass or $disabledClass
    $activeClass = arguments.activeClass or $activeClass
    $showClass = arguments.showClass or $showClass
    $toggleClass = arguments.toggleClass or $toggleClass
    $dropdownToggleClass = arguments.dropdownToggleClass or $dropdownToggleClass
  else
    for $value in arguments
      if $value is a 'object'
        $classes = $value
        $btnClass = $value.btnClass or $btnClass
        $toolbarClass := $value.toolbarClass or $toolbarClass
        $focusClass = $value.focusClass or $focusClass
        $disabledClass = $value.disabledClass or $disabledClass
        $activeClass = $value.activeClass or $activeClass
        $showClass = $value.showClass or $showClass
        $toggleClass = $value.toggleClass or $toggleClass
        $dropdownToggleClass = $value.dropdownToggleClass or $dropdownToggleClass
      else
        push($flags, $value)
  // END ARGUMENT PARSE

  .{$btnClass}
    btn($flags $classes)

  // .btn-group,
  // .btn-group-vertical
  position relative
  display -ms-inline-flexbox
  display inline-flex
  vertical-align middle

  & > .{$btnClass}
    position relative
    -ms-flex 0 1 auto
    flex 0 1 auto
    margin-bottom 0

  & > .{$btnClass}:hover
    z-index 2

  & > .{$btnClass}:focus
  & > .{$btnClass}:active
  & > .{$btnClass}.{$activeClass}
    z-index 2

  & .{$btnClass} + .{$btnClass}
  & .{$btnClass} + &
  & & + .{$btnClass}
  & & + &
    margin-left -1px

  .{$toolbarClass}
    display -ms-flexbox
    display flex
    -ms-flex-wrap wrap
    flex-wrap wrap
    -ms-flex-pack start
    justify-content flex-start
    .input-group
      width auto

  & > .{$btnClass}
    &:not(:first-child):not(:last-child):not(.{$dropdownToggleClass})
      border-radius 0
    &:first-child
      margin-left 0
      &:not(:last-child):not(.dropdown-toggle)
        border-top-right-radius 0
        border-bottom-right-radius 0
  & > &
    float left
    &:not(:first-child):not(:last-child)
      & > .{$btnClass}
        border-radius 0
    &:last-child
      &:not(:first-child)
        & > .{$btnClass}
          &:first-child
            border-top-left-radius 0
            border-bottom-left-radius 0

& > .{$btnClass}:last-child:not(:first-child),
& > .dropdown-toggle:not(:first-child)
  border-top-left-radius 0
  border-bottom-left-radius 0

& > .btn-group:first-child:not(:last-child) > .{$btnClass}:last-child,
& > .btn-group:first-child:not(:last-child) > .dropdown-toggle
  border-top-right-radius 0
  border-bottom-right-radius 0

.btn
  & + .dropdown-toggle-split
    padding-right 0.5625rem
    padding-left 0.5625rem
    &::after
      margin-left 0

.btn-sm + .dropdown-toggle-split, .btn-group-sm > .btn + .dropdown-toggle-split
  padding-right 0.375rem
  padding-left 0.375rem

.btn-lg + .dropdown-toggle-split, .btn-group-lg > .btn + .dropdown-toggle-split
  padding-right 0.75rem
  padding-left 0.75rem

.btn-group-vertical
  display -ms-inline-flexbox
  display inline-flex
  -ms-flex-direction column
  flex-direction column
  -ms-flex-align start
  align-items flex-start
  -ms-flex-pack center
  justify-content center
  & > .btn
    &:not(:first-child):not(:last-child)
      border-radius 0
    &:first-child
      &:not(:last-child)
        border-bottom-right-radius 0
        border-bottom-left-radius 0
    &:last-child
      &:not(:first-child)
        border-top-left-radius 0
        border-top-right-radius 0
  & > .btn-group
    &:not(:first-child):not(:last-child)
      & > .btn
        border-radius 0
    &:last-child
      &:not(:first-child)
        & > .btn
          &:first-child
            border-top-left-radius 0
            border-top-right-radius 0

.btn-group-vertical .btn,
.btn-group-vertical .btn-group
  width 100%

.btn-group-vertical > .btn + .btn,
.btn-group-vertical > .btn + .btn-group,
.btn-group-vertical > & + .btn,
.btn-group-vertical > & + .btn-group
  margin-top -1px
  margin-left 0

.btn-group-vertical > .btn-group:first-child:not(:last-child) > .{$btnClass}:last-child,
.btn-group-vertical > .btn-group:first-child:not(:last-child) > .dropdown-toggle
  border-bottom-right-radius 0
  border-bottom-left-radius 0
